(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"Rc+H":function(t,e,s){"use strict";s.r(e),s.d(e,"QuizModule",function(){return I});var n=s("fXoL"),i=s("AytR"),r=s("tk/3");let o=(()=>{class t{constructor(t){this.httpClient=t}getQuestions(){return this.httpClient.get(`${i.a.apiBaseUrl}/questions`)}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(r.b))},t.\u0275prov=n.Cb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),u=(()=>{class t{constructor(t){this.quizQuestionService=t}resolve(){return this.quizQuestionService.getQuestions()}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(o))},t.\u0275prov=n.Cb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var c=s("tyNb"),a=s("vQTO"),b=s("320Y");let l=(()=>{class t{constructor(){this.value=0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ab({type:t,selectors:[["app-quiz-progress"]],inputs:{value:"value"},decls:1,vars:2,consts:[[1,"progress"]],template:function(t,e){1&t&&n.Hb(0,"div",0),2&t&&n.cc("width",e.value,"%")},styles:["[_nghost-%COMP%]{display:block;background:hsla(0,0%,93.7%,.9372549019607843);box-shadow:inset 0 4px 4px rgba(0,0,0,.25);height:20px}.progress[_ngcontent-%COMP%], [_nghost-%COMP%]{border-radius:10px}.progress[_ngcontent-%COMP%]{height:100%;min-width:20px;background:#e37e6a;transition:.3s ease}"]}),t})();var d=s("ofXK");function h(t,e){if(1&t){const t=n.Kb();n.Jb(0,"li"),n.Jb(1,"button",1),n.Qb("click",function(){n.Yb(t);const s=e.$implicit;return n.Sb().answerSelected.emit(s)}),n.ec(2),n.Ib(),n.Ib()}if(2&t){const t=e.$implicit,s=n.Sb();n.wb(1),n.Vb("disabled",s.selectionDisabled),n.wb(1),n.gc(" ",t.text," ")}}let p=(()=>{class t{constructor(){this.selectionDisabled=!1,this.answerSelected=new n.n}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ab({type:t,selectors:[["app-quiz-question"]],inputs:{question:"question",currentAnswer:"currentAnswer",selectionDisabled:"selectionDisabled"},outputs:{answerSelected:"answerSelected"},decls:4,vars:2,consts:[[4,"ngFor","ngForOf"],[3,"disabled","click"]],template:function(t,e){1&t&&(n.Jb(0,"h2"),n.ec(1),n.Ib(),n.Jb(2,"ul"),n.dc(3,h,3,2,"li",0),n.Ib()),2&t&&(n.wb(1),n.fc(e.question.title),n.wb(2),n.Vb("ngForOf",e.question.answers))},directives:[d.h],styles:[""]}),t})();var v=s("sELr"),g=s("jQpT");const w=[{path:"",component:(()=>{class t{constructor(t,e,s){this.router=t,this.activatedRoute=e,this.quizResultService=s,this.answers=[],this.currentQuestionIndex=0,this.isSaving=!1}ngOnInit(){this.questions=this.activatedRoute.snapshot.data.questions}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}getProgress(){return this.isSaving?100:this.currentQuestionIndex/this.questions.length*100}isLastQuestion(){return this.currentQuestionIndex===this.questions.length-1}getButtonText(){return this.isSaving?"Saving...":this.isLastQuestion()?"Finish":"Next"}setAnswer(t){this.answers[this.currentQuestionIndex]=t}canGoNext(){return this.isCurentQuestionAnswered()&&!this.isSaving}next(){this.isLastQuestion()?this.finish():this.currentQuestionIndex+=1}finish(){this.isSaving=!0,this.subscription=this.quizResultService.saveResult(this.answers).subscribe(t=>{this.router.navigate(["result",t.id])},()=>{this.isSaving=!1})}isCurentQuestionAnswered(){return!!this.answers[this.currentQuestionIndex]}}return t.\u0275fac=function(e){return new(e||t)(n.Gb(c.b),n.Gb(c.a),n.Gb(a.a))},t.\u0275cmp=n.Ab({type:t,selectors:[["app-quiz"]],decls:12,vars:7,consts:[[1,"container"],[1,"section"],[3,"value"],[3,"question","selectionDisabled","answerSelected"],["app-button","",3,"disabled","click"]],template:function(t,e){1&t&&(n.Hb(0,"app-header"),n.Jb(1,"div",0),n.Jb(2,"div",1),n.Jb(3,"h4"),n.ec(4),n.Ib(),n.Hb(5,"app-quiz-progress",2),n.Ib(),n.Jb(6,"div",1),n.Jb(7,"app-quiz-question",3),n.Qb("answerSelected",function(t){return e.setAnswer(t)}),n.Ib(),n.Ib(),n.Jb(8,"div",1),n.Jb(9,"button",4),n.Qb("click",function(){return e.next()}),n.ec(10),n.Ib(),n.Ib(),n.Ib(),n.Hb(11,"app-footer")),2&t&&(n.wb(4),n.hc("Question ",e.currentQuestionIndex+1,"/",e.questions.length,""),n.wb(1),n.Vb("value",e.getProgress()),n.wb(2),n.Vb("question",e.questions[e.currentQuestionIndex])("selectionDisabled",e.isSaving),n.wb(2),n.Vb("disabled",!e.canGoNext()),n.wb(1),n.gc(" ",e.getButtonText()," "))},directives:[b.a,l,p,v.a,g.a],styles:[""]}),t})(),resolve:{questions:u}}];let f=(()=>{class t{}return t.\u0275mod=n.Eb({type:t}),t.\u0275inj=n.Db({factory:function(e){return new(e||t)},imports:[[c.d.forChild(w)],c.d]}),t})();var q=s("PCNd");let I=(()=>{class t{}return t.\u0275mod=n.Eb({type:t}),t.\u0275inj=n.Db({factory:function(e){return new(e||t)},imports:[[q.a,f]]}),t})()}}]);